/* 
	Plugin name : Responsive
	Version : 0.1
	author : Stéphane Guigné (http://stephaneguigne.com)
	github : https://github.com/guins/jquery-responsive
*/
;(function(e){var t=false,n={breakpoints:[640,960],devices:["mob","tab","desk"],attrSelector:"data-responsive",autoHideShow:true,displayModel:"exclusive",exclusifSufix:"-only",excludedPrefix:"not-",onDeviceChange:null},r={EXCLUSIVE:"exclusive",EXCLUDING:"excluding",currentDevice:null,dom:{}};var i={init:function(i){return this.each(function(){var o,u=this,a=e(this),f=a.data("responsive");if(!f){var l="";o=e.extend({},n,i,r);o.nbBreakpoints=o.breakpoints.length;o.nbDevices=o.devices.length;for(var c=0;c<o.nbDevices;c++){var h=o.devices[c],p=o.displayModel==o.EXCLUSIVE?o.devices[c]+o.exclusifSufix:o.excludedPrefix+o.devices[c],d=o.attrSelector=="class"?p:"["+o.attrSelector+"="+p+"]";$elmts=e(d,a);l+=(l?", ":"")+d;o.dom[h]=$elmts}o.dom.$allContextualElmts=e(l,a);o.dom.$allContextualElmts.each(function(){var t=e(this),n=t.css("display");if(n&&n!=="")t.data("responsive",{displayType:n})});a.data("responsive",{settings:o});e(window).on("resize.responsive",function(e){s.onResize.call(u,e)}).trigger("resize");t=true}})},destroy:function(){return this.each(function(){var t=e(this),n=t.data("responsive"),r=n.settings;s.showContents.call(this,r.dom.$allContextualElmts);e(window).unbind(".responsive");t.removeData("responsive")})}};var s={onResize:function(t){var n=e(this).data("responsive"),r=n.settings,i=s.getDeviceSize.call(this);if(!t||i!=r.currentDevice){r.currentDevice=i;e(this).attr(r.rootAttr,i);s.displayContextualContents.call(this);e(window).trigger({type:"onDeviceChange",deviceName:i});if(r.onDeviceChange)r.onDeviceChange({deviceName:i})}},getDeviceSize:function(){var t=e(this).data("responsive"),n=t.settings,r=e(window).width();for(var i=0;i<n.nbBreakpoints;i++){if(r<n.breakpoints[i])return n.devices[i]}return n.devices[n.nbDevices-1]},displayContextualContents:function(){var t=e(this).data("responsive"),n=t.settings;if(n.displayModel==n.EXCLUSIVE){n.dom.$allContextualElmts.hide();s.showContents.call(this,n.dom[n.currentDevice])}else if(n.displayModel==n.EXCLUDING){s.showContents.call(this,n.dom.$allContextualElmts);n.dom[n.currentDevice].hide()}},showContents:function(t){t.each(function(){var t=e(this),n=t.data("responsive");t.css("display",n&&n.displayType?n.displayType:"")})}};e.fn.responsive=function(n){if(t)e.error("jQuery.responsive is already initialized!");else if(i[n]){return i[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return i.init.apply(this,arguments)}else{return this}}})(jQuery);